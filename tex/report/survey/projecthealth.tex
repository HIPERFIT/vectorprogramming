\chapter{Evaluation: Project Health}

* Define project health
  
  * How likely is it that development will continue and bugs will be fixed?

* Motivation for at unders√∏ge det
  
  * We take the stance of a library user, which has to decide on
    a library, which seems they would be continuously maintained, such
    that derivative works would be okay

  * Not very important for the rest of our project, as the state of
    the project does not make it unsuitable for research purposes.

* Scope
  
  * Activity
  * Stability
  * Portability
  * Documentation

* Portability 
  
  * As GHC is the defacto standard for Haskell developers, we have
    only tested the libraries on this compiler.

  * Nikola and Accelerate of course requires an NVIDIA CUDA graphics
    card. OpenCL would be nice

* Stability 
  
  * The two senses of the word: Likely to change and Likely to break in use

  * Accelerate CUDA backend seems very unstable in use. Language
    interface seems stabilized.

  * Nikola seems very likely to change: 1 contributor, huge change
    last year

  * Repa and Vector stable in both aspects. More dependencies,
    less cutting edge.

* Activity

  * Repa, Vector and Accelerate are updated regularly, while it seems
    that development on Nikola is currently stagnated, until Geoffrey
    Mainlan again finds time.

* Installation issues

  * Nothing to note for Repa and Data.Vector
  * Accelerate CUDA backend, horrible problems, see below
  * Nikola ?!?!

* Conclusion

  * Repa, Vector and Accelerate are all maintained at UNSW, and work
    seems ongoing. We thus believe that work will continue. Repa, Vector
    and the accelerate frontend seems stable, and the Accelerate CUDA
    backend will probably follow.

  * Nikola is maintained by a single user, it is not yet released on
    Hackage (thus little exposure) and perhaps no users. Also, there
    is almost no documentation. From a library user point of view it
    thus not a wise selection


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Everything below this point should be seen as notes, not finished text %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

 \todo{Document the procedures and scripts that were used to collect reverse dependencies and to carry out installs}


\section{Accelerate}
\paragraph{Documentation.} The documentation for Accelerate resides mainly in
two different places: The haddock API-docs on hackage, and more high-level
documentation on the project's github wiki.  Other documentation reside in
somewhat scattered web pages, most notably in the paper
\cite{chakravarty2011accelerating}.  As of this writing, the main introductory
material seems to be the github project wiki and the paper
\cite{chakravarty2011accelerating}. Of these two, the wiki pages are more
oriented towards building applications using Accelerate, while the paper
focuses on detailing the current implementation and only briefly introduces the
Accelerate language in an academic fashion.

Unfortunately, many of the wiki pages are rather incomplete, so we must
conclude that there has yet to be published any comprehensive introductory
material on programming using Accelerate.
The API reference documentation however is extensive.

\paragraph{Installation process} We succeeded in getting Accelerate to run on
GHC 7.4.2, but it still doesn't support GHC 7.6.1, possibly because of external
dependencies.  We had some trouble installing the version on hackage, because
of a minor bug in the cuda-bindings. The bug was caused by code generated by
c2hs, so it might be something that depends on the version of CUDA installed.

We had major trouble installing the development-version from their repository,
mainly caused by a lot of dependency issues and conflicts. We still have to
compile the CUDA-backend.  \todo{Text above is copied verbatim from wiki.}

\section{Repa}

\paragraph{Documentation.} Repa is extensively documented through both API
documentation on hackage, various papers, tutorials and example programs, eg in
\cite{lippmeier2012guiding} and \cite{keller2010regular}.  Everything is easily
accessible directly from the front page of the repa homepage
\cite{homepage:repa}.

\section{Nikola}

\paragraph{Documentation.} As Nikola is not published on Hackage, there is no
automatically searchable generated documentation, and one has to manually
generate haddock documentation. Counting source lines reveals a figure of 24\%
comment lines, which is above the average comment ratio according to the
ohloh.net open source project visualisation website\footnote{14-11-2012:
``Across all Haskell projects on Ohloh, 17\% of all source code lines are
comments. For nikola-haskell, this figure is 24\%.''}. This figure turned out
to be quite useless in this case, as we discovered most comments were just
disabled code rather than documentation. Further, Nikola is described in the
paper \cite{mainland2010nikola}.

\paragraph{Installation process} Nikola requires running a classical style
automake "configure"-script to produce the binding to the cuda-backend.

We had a sizable amount of trouble executing the installation. \todo{why
exactly? (Difficult to link with CUDA sdk, cabal dependency hell)}

\section{Vector}

\paragraph{Documentation.} The Vector package has extensive api-documentation
available. Furthermore there is a tutorial on
\cite{homepage:haskell:vectortutorial}.

\subsection{Maintainance} Vector has seen regular maintainance as of October 2012.

\begin{table}
  \centering
  \begin{tabular}{l|rrllllr}
    Language    & Project age & Latest release & License & Contributors \\ \hline
    Accelerate  & 3-4 years   & June 2012      & BSD3    & 3 \\
    Nikola      & 1-2 years   & Not released   & \todo{???}    & 1 \\
    Repa        & 1-2 years   & October 2012   & BSD3    & 4 \\
    Data.Vector & 4 years     & October 2012   & BSD3    & 9 \\
  \end{tabular}
  \caption{Project status}
  \label{tab:project_status}
\end{table}

\begin{table}
  \centering
  \begin{tabular}{l|rrllllr}
    Language    & Dependencies & Reverse dependencies & GHC extensions & GHC version \\ \hline
    Accelerate  & 5 (+18)      & 2                    & 19 (+9)        & 7.6.1 \\
    Nikola      & 21 0         & N/A                  & 26             & 7.4.2 \\
    Repa        & 6            & 11                   & 20             & 7.6.1 \\
    Data.Vector & 4            & 150+                 & 15             & 7.6.1 \\
  \end{tabular}
  \caption{Dependency status. Reverse dependencies are found through Hackage. 
    Nikola is not release on Hackage yet, why we can not count any reverse dependencies.
    When counting dependencies for Accelerate, there is one number for 
    the accelerate package, that defines the language and an additional number for the CUDA backend.}
  \label{tab:dependency_status}
\end{table}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../master"
%%% End:
